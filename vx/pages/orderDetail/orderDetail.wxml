<!-- é¢„çº¦è¯¦æƒ… -->
<view class="order-detail-page">
  <!-- é¢„çº¦çŠ¶æ€ -->
  <view class="status-card {{order.status}}">
    <view class="status-icon">
      <text wx:if="{{order.status === 'pending'}}">â³</text>
      <text wx:elif="{{order.status === 'preparing'}}">ğŸ’…</text>
      <text wx:elif="{{order.status === 'completed'}}">âœ…</text>
      <text wx:else>âŒ</text>
    </view>
    <view class="status-info">
      <text class="status-text">{{order.statusText}}</text>
      <text class="status-desc" wx:if="{{order.status === 'pending'}}">é¢„çº¦å·²æäº¤ï¼Œè¯·ç¨å€™</text>
      <text class="status-desc" wx:elif="{{order.status === 'preparing'}}">ç¾ç”²å¸ˆæ­£åœ¨ä¸ºæ‚¨æœåŠ¡</text>
      <text class="status-desc" wx:elif="{{order.status === 'completed'}}">æœåŠ¡å·²å®Œæˆï¼ŒæœŸå¾…å†æ¬¡å…‰ä¸´</text>
      <text class="status-desc" wx:else>é¢„çº¦å·²å–æ¶ˆ</text>
    </view>
  </view>

  <!-- é¢„çº¦ä¿¡æ¯ -->
  <view class="info-card card">
    <view class="info-header">
      <text class="info-title">é¢„çº¦ä¿¡æ¯</text>
    </view>
    <view class="info-row">
      <text class="info-label">é¢„çº¦å•å·</text>
      <text class="info-value">{{order.orderNo}}</text>
    </view>
    <view class="info-row">
      <text class="info-label">é¢„çº¦æ—¶é—´</text>
      <text class="info-value">{{order.createTime}}</text>
    </view>
  </view>

  <!-- æœåŠ¡æ¸…å• -->
  <view class="items-card card">
    <view class="items-header">
      <text class="items-title">æœåŠ¡æ¸…å•</text>
    </view>
    <view class="item-row" wx:for="{{order.items}}" wx:key="id">
      <image src="{{item.image}}" mode="aspectFill" class="item-image"></image>
      <view class="item-info">
        <text class="item-name">{{item.name}}</text>
        <text class="item-desc">{{item.desc}}</text>
      </view>
      <text class="item-quantity">Ã—{{item.quantity}}</text>
      <text class="item-price">Â¥{{item.price}}</text>
    </view>
  </view>

  <!-- è´¹ç”¨æ˜ç»† -->
  <view class="cost-card card">
    <view class="cost-header">
      <text class="cost-title">è´¹ç”¨æ˜ç»†</text>
    </view>
    <view class="cost-row">
      <text class="cost-label">æœåŠ¡å°è®¡</text>
      <text class="cost-value">Â¥{{order.subtotal.toFixed(2)}}</text>
    </view>
    <view class="cost-row">
      <text class="cost-label">ä¼˜æƒ å‡å…</text>
      <text class="cost-value primary-color">-Â¥{{order.discount.toFixed(2)}}</text>
    </view>
    <view class="divider"></view>
    <view class="cost-row total">
      <text class="cost-label">å®ä»˜é‡‘é¢</text>
      <text class="price">Â¥{{order.total.toFixed(2)}}</text>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-bar" wx:if="{{order.status === 'pending'}}">
    <view class="action-btn cancel" bindtap="cancelOrder">å–æ¶ˆé¢„çº¦</view>
  </view>
</view>
